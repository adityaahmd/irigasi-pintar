<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sistem Irigasi Pintar</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
    --bg-light:#f3f4f6;
    --bg-dark:#0b1220;
    --card-dark:#111827;
    --border-dark:#1f2937;
    --text-dark:#f3f4f6;
}

body{
    font-family:'Inter',sans-serif;
    background:var(--bg-light);
    color:#374151;
}

/* ================= DARK MODE ================= */
body.dark{
    background:var(--bg-dark);
    color:var(--text-dark);
}

body.dark header,
body.dark aside{
    background:#0f172a !important;
    border-color:var(--border-dark)!important;
}

body.dark .clean-card{
    background:var(--card-dark)!important;
    border:1px solid var(--border-dark)!important;
}

body.dark .text-gray-800,
body.dark .text-gray-700{
    color:#f3f4f6!important;
}

body.dark .text-gray-500,
body.dark .text-gray-400{
    color:#9ca3af!important;
}

body.dark .bg-gray-50,
body.dark .bg-gray-100{
    background:#1f2937!important;
}

body.dark .nav-btn{
    color:#cbd5f5;
}
body.dark .nav-btn.active{
    background:#2563eb;
    color:white;
}

body.dark table{
    background:var(--card-dark);
    color:#e5e7eb;
}
body.dark thead{
    background:#0f172a;
}

/* ================= UI ================= */
.clean-card{
    background:white;
    border:1px solid #e5e7eb;
    border-radius:12px;
}

.nav-btn{
    display:flex;
    align-items:center;
    gap:12px;
    padding:12px 16px;
    border-radius:8px;
    color:#6b7280;
}
.nav-btn.active{
    background:#e5e7eb;
    color:#111827;
    font-weight:600;
}
.nav-btn:hover{background:#e5e7eb;}

.btn-action{
    padding:8px 16px;
    border-radius:8px;
    font-size:12px;
    font-weight:600;
    background:#e5e7eb;
}
.btn-action.active-black{
    background:#111827;
    color:white;
}
</style>
</head>

<body class="h-screen flex overflow-hidden">

<!-- ================= SIDEBAR ================= -->
<aside class="w-60 bg-white border-r border-gray-200 flex flex-col">
    <div class="h-16 flex items-center px-6 border-b font-bold">SIP V3</div>
    <nav class="flex-1 p-3 space-y-2">
        <button class="nav-btn active" data-target="dashboard">Dashboard</button>
        <button class="nav-btn" data-target="grafik">Grafik Data</button>
        <button class="nav-btn" data-target="ringkasan">Riwayat Log</button>
    </nav>
    <div class="p-3 text-xs text-gray-400">&copy; 2025</div>
</aside>

<!-- ================= MAIN ================= -->
<div class="flex-1 flex flex-col">

<header class="h-16 bg-white border-b flex justify-between items-center px-4">
    <h1 class="font-bold">Sistem Irigasi Pintar</h1>
    <button id="themeToggle" class="px-3 py-1 rounded bg-gray-200 text-sm">üåô</button>
</header>

<div class="flex-1 p-4 overflow-y-auto">

<!-- DASHBOARD -->
<main id="dashboard" class="tab-content space-y-4">
    <div class="clean-card p-4">
        <p class="font-semibold">Status Sistem</p>
        <p id="systemStatus" class="text-sm text-gray-500">Menunggu data...</p>
    </div>
</main>

<!-- GRAFIK -->
<main id="grafik" class="tab-content hidden grid grid-cols-1 lg:grid-cols-2 gap-4">
    <div class="clean-card p-4 h-64"><canvas id="chartSuhu"></canvas></div>
    <div class="clean-card p-4 h-64"><canvas id="chartKelembapan"></canvas></div>
</main>

<!-- LOG -->
<main id="ringkasan" class="tab-content hidden">
    <div class="clean-card p-4">
        <table class="w-full text-sm">
            <thead>
                <tr>
                    <th class="p-2">Waktu</th>
                    <th class="p-2">Suhu</th>
                    <th class="p-2">Hum</th>
                </tr>
            </thead>
            <tbody id="logTbody"></tbody>
        </table>
    </div>
</main>

</div>
</div>

<script>
// ================= NAV =================
document.querySelectorAll('.nav-btn').forEach(btn=>{
    btn.onclick=()=>{
        document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');

        document.querySelectorAll('.tab-content').forEach(t=>t.classList.add('hidden'));
        document.getElementById(btn.dataset.target).classList.remove('hidden');
    }
});

// ================= DARK MODE =================
const themeBtn=document.getElementById('themeToggle');

function applyTheme(){
    if(localStorage.getItem('theme')==='dark'){
        document.body.classList.add('dark');
        themeBtn.innerText='‚òÄÔ∏è';
    }
}
applyTheme();

themeBtn.onclick=()=>{
    document.body.classList.toggle('dark');
    const dark=document.body.classList.contains('dark');
    localStorage.setItem('theme',dark?'dark':'light');
    themeBtn.innerText=dark?'‚òÄÔ∏è':'üåô';
};

// ================= CHART =================
new Chart(document.getElementById('chartSuhu'),{
    type:'line',
    data:{labels:[],datasets:[{data:[],borderColor:'#ef4444'}]},
    options:{responsive:true,maintainAspectRatio:false}
});
new Chart(document.getElementById('chartKelembapan'),{
    type:'line',
    data:{labels:[],datasets:[{data:[],borderColor:'#3b82f6'}]},
    options:{responsive:true,maintainAspectRatio:false}
});
</script>

</body>
</html>
